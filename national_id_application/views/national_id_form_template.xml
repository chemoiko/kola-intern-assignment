<!--
National ID Application Web Form Template

Public-facing web form for National ID applications.
Accessible at /national-id/apply without authentication.
Submits to /national-id/submit controller endpoint.
-->

<odoo>
    <!-- Public Web Form Template -->
    <template id="national_id_form_template" name="National ID Application Form">
        <t t-name="national_id_application.national_id_form_template">
            <html lang="en">
                <head>
                    <meta charset="utf-8" />
                    <meta name="viewport" content="width=device-width, initial-scale=1" />
                    <title>National ID Application Form</title>
                    <t t-call-assets="web.assets_frontend" t-js="false" />
                </head>
                <body>
                    <div class="container mt-5">
                        <div class="row justify-content-center">
                            <div class="col-12 col-md-8 col-lg-6">
                                <div class="card shadow-sm">
                                    <div class="card-body">
                                        <h4 class="mb-3 text-center">National ID Application</h4>

                                        <!-- Error Display Section -->
                                        <t t-if="errors">
                                            <div class="alert alert-danger" role="alert">
                                                <strong>There were some problems with your
                                                    submission:</strong>
                                                <ul class="mb-0">
                                                    <t t-foreach="errors.items()" t-as="item">
                                                        <li>
                                                            <t t-esc="item[1]" />
                                                        </li>
                                                    </t>
                                                </ul>
                                            </div>
                                        </t>

                                        <form method="POST" action="/national-id/submit"
                                            enctype="multipart/form-data">

                                            <div class="row g-3">
                                                <div class="col-md-6">
                                                    <label for="surname" class="form-label">Surname</label>
                                                    <input type="text" class="form-control"
                                                        id="surname" name="surname"
                                                        required="required"
                                                        pattern="[A-Za-z'\-\s]{2,50}"
                                                        autocapitalize="words"
                                                    />
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="first_name" class="form-label">First
                                                        Name</label>
                                                    <input type="text" class="form-control"
                                                        id="first_name" name="first_name"
                                                        required="required"
                                                        pattern="[A-Za-z'\-\s]{2,50}"
                                                        autocapitalize="words"
                                                    />
                                                </div>
                                            </div>

                                            <div class="mb-3 mt-3">
                                                <label for="dob" class="form-label">Date of Birth</label>
                                                <input type="date" class="form-control" id="dob"
                                                    name="dob"
                                                    required="required"
                                                />
                                            </div>

                                            <div class="mb-3">
                                                <label for="gender" class="form-label">Gender</label>
                                                <select class="form-select" id="gender"
                                                    name="gender" required="required">
                                                    <option value="">-- Select Gender --</option>
                                                    <option value="male"
                                                    >
                                                        Male</option>
                                                    <option value="female"
                                                    >
                                                        Female</option>
                                                </select>
                                            </div>

                                            <div class="mb-3">
                                                <label for="marital_status" class="form-label">Marital
                                                    Status</label>
                                                <select class="form-select" id="marital_status"
                                                    name="marital_status">
                                                    <option value="">-- Select --</option>
                                                    <option value="single"
                                                    >
                                                        Single</option>
                                                    <option value="married"
                                                    >
                                                        Married</option>
                                                    <option value="divorced"
                                                    >
                                                        Divorced</option>
                                                    <option value="widowed"
                                                    >
                                                        Widowed</option>
                                                </select>
                                            </div>

                                            <div class="mb-3">
                                                <label for="nationality" class="form-label">
                                                    Nationality</label>
                                                <select class="form-select" id="nationality"
                                                    name="nationality">
                                                    <option value="">-- Select --</option>
                                                    <option value="ugandan"
                                                    >
                                                        Ugandan</option>
                                                    <option value="kenyan"
                                                    >
                                                        Kenyan</option>
                                                    <option value="tanzanian"
                                                    >
                                                        Tanzanian</option>
                                                    <option value="rwandan"
                                                    >
                                                        Rwandan</option>
                                                    <option value="burundese"
                                                    >
                                                        Burundese</option>
                                                    <option value="south_sudanese"
                                                    >South Sudanese</option>
                                                    <option value="drc"
                                                    >DR Congolese</option>
                                                    <option value="other"
                                                    >
                                                        Other</option>
                                                </select>
                                            </div>

                                            <div class="mb-3">
                                                <label for="address" class="form-label">Address</label>
                                                <input type="text" class="form-control"
                                                    id="address" name="address"
                                                    required="required"
                                                />
                                            </div>

                                            <div class="mb-3">
                                                <label for="phone" class="form-label">Phone Number</label>
                                                <input type="tel" class="form-control" id="phone"
                                                    name="phone" required="required" inputmode="tel"
                                                    pattern="[0-9+\-()\s]{7,20}"
                                                />
                                            </div>

                                            <div class="mb-3">
                                                <label for="email" class="form-label">Email</label>
                                                <input type="email" class="form-control" id="email"
                                                    name="email" required="required"
                                                />
                                            </div>

                                            <div class="row g-3">
                                                <div class="col-md-6">
                                                    <label for="next_of_kin_surname"
                                                        class="form-label">Next of Kin Surname</label>
                                                    <input type="text" class="form-control"
                                                        id="next_of_kin_surname"
                                                        name="next_of_kin_surname"
                                                        required="required"
                                                        pattern="[A-Za-z'\-\s]{2,50}"
                                                        autocapitalize="words"
                                                    />
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="next_of_kin_first_name"
                                                        class="form-label">Next of Kin First Name</label>
                                                    <input type="text" class="form-control"
                                                        id="next_of_kin_first_name"
                                                        name="next_of_kin_first_name"
                                                        required="required"
                                                        pattern="[A-Za-z'\-\s]{2,50}"
                                                        autocapitalize="words"
                                                    />
                                                </div>
                                            </div>

                                            <div class="mb-3 mt-3">
                                                <label for="next_of_kin_phone" class="form-label">Next
                                                    of Kin Phone</label>
                                                <input type="tel" class="form-control"
                                                    id="next_of_kin_phone" name="next_of_kin_phone"
                                                    required="required" inputmode="tel"
                                                    pattern="[0-9+\-()\s]{7,20}"
                                                />
                                            </div>

                                            <div class="mb-3">
                                                <label for="photo" class="form-label">Upload Support
                                                    Photo</label>
                                                <input type="file" class="form-control" id="photo"
                                                    name="photo" accept="image/*"
                                                    required="required" />
                                            </div>

                                            <div class="mb-3">
                                                <label for="lc_letter" class="form-label">Upload LC
                                                    Letter</label>
                                                <input type="file" class="form-control"
                                                    id="lc_letter" name="lc_letter"
                                                    accept=".pdf,.jpg,.jpeg,.png"
                                                    required="required" />
                                            </div>

                                            <div class="d-grid">
                                                <button type="submit" class="btn btn-primary">Submit
                                                    Application</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </body>
            </html>
        </t>
    </template>

    <template id="application_success" name="Application Success">
        <t t-name="national_id_application.application_success">
            <html>
                <head>
                    <t t-call-assets="web.assets_frontend" t-js="false" />
                </head>
                <body>
                    <div class="container mt-5">
                        <div class="alert alert-success">
                            <h4 class="alert-heading">Application submitted!</h4>
                            <p>Your tracking number is <strong>
                                    <t t-esc="tracking_number" />
                                </strong>
                                . </p>
                            <hr />
                            <p>Please check your email for an acknowledgement message.</p>
                        </div>
                        <a href="/national-id/apply" class="btn btn-outline-primary">Back to Form</a>
                    </div>
                    <t t-call-assets="web.assets_frontend" t-css="false" />
                </body>
            </html>
        </t>
    </template>
</odoo>